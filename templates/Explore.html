{% extends 'AppLayout.html' %}

{% block content %}
<div class="home-page">
    <h1>Video Downloader</h1>
    <form action="/explore" method="post" class="video-input-form">
        <div class="url-input-wr">
            <span class="link-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M11 17H7q-2.075 0-3.537-1.463T2 12t1.463-3.537T7 7h4v2H7q-1.25 0-2.125.875T4 12t.875 2.125T7 15h4zm-3-4v-2h8v2zm5 4v-2h4q1.25 0 2.125-.875T20 12t-.875-2.125T17 9h-4V7h4q2.075 0 3.538 1.463T22 12t-1.463 3.538T17 17z"/>
                </svg>
            </span>
            <input type="url" value="{{data.url}}" class="video-url-field" placeholder="Enter the video link" name="link_url" required>
            <button type="submit" class="btn-explore">Explore</button>
        </div>
    </form>
    <div class="video-fl-spp">
        <span class="yt">YouTube</span>
        <span class="fb">Facebook</span>
        <span class="tk">TikTok</span>
    </div>

    {% if data %}
        
    <div class="download-scop">
        <div class="video-list-wr">
            <div class="v-h-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="m162.22 108.67l-48-32A4 4 0 0 0 108 80v64a4 4 0 0 0 2.11 3.53a4 4 0 0 0 4.11-.2l48-32a4 4 0 0 0 0-6.66M116 136.53V87.47L152.79 112ZM216 44H40a12 12 0 0 0-12 12v112a12 12 0 0 0 12 12h176a12 12 0 0 0 12-12V56a12 12 0 0 0-12-12m4 124a4 4 0 0 1-4 4H40a4 4 0 0 1-4-4V56a4 4 0 0 1 4-4h176a4 4 0 0 1 4 4Zm8 40a4 4 0 0 1-4 4H32a4 4 0 0 1 0-8h192a4 4 0 0 1 4 4"/></svg>
                <h1 class="main-title">Video</h1>
            </div>
            <div class="video-list">
                {% for item in data.resolution_list %}
                <div class="video-card">
                    <div class="video-card_info">
                        <div class="img" style="background-image: url('{{data.thumbnail}}');">
                        </div>
                        <div class="info-wr">
                            <h4>{{data.title}}</h4>
                            <p>Duration : {{data.duration}}</p>
                            <p>Size : {{item.size}}</p>
                        </div>
                    </div>
                    <div >
                        <button class="btn-download" data-url="/download?itag={{item.itag}}&url={{data.url}}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" class="icon-download">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.25 13.25h9m-8.5-6.5l4 3.5l4-3.5m-4-5v8.5"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" class="icon-loading">
                                <g fill="currentColor">
                                <circle cx="12" cy="3.5" r="1.5">
                                <animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"/>
                                <animate attributeName="opacity" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle><circle cx="12" cy="3.5" r="1.5" transform="rotate(30 12 12)">
                                    <animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"/>
                                <animate attributeName="opacity" begin="0.2s" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle><circle cx="12" cy="3.5" r="1.5" transform="rotate(60 12 12)">
                                    <animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"/>
                                    <animate attributeName="opacity" begin="0.4s" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle></g>
                            </svg>
                        </button>
                    </div>
                    <p class="v-resolution is-vidoe"><span>{{item.resolution}}</span></p>
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="audio-list-wr">
            <div class="v-h-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20">
                    <path fill="currentColor" d="M10 3a7 7 0 0 0-7 7v1h1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H4a2 2 0 0 1-2-2v-6a8 8 0 1 1 16 0v6a2 2 0 0 1-2 2h-.5a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5H17v-1a7 7 0 0 0-7-7m.5 7.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0zm-3 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5m5.5.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0z"/>
                </svg>
                <h1 class="main-title">Audio</h1>
            </div>
            <div class="audio-list">
                {% for item in data.audio_list %}
                <div class="video-card">
                    <div class="video-card_info">
                        <div class="img" style="background-image: url('{{data.thumbnail}}');">
                        </div>
                        <div class="info-wr">
                            <h4>{{data.title}}</h4>
                            <p>Duration : {{data.duration}}</p>
                            <p>Size : {{item.size}}</p>
                        </div>
                    </div>
                    <div>
                        <button class="btn-download" data-url="{{item.url}}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" class="icon-download">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.25 13.25h9m-8.5-6.5l4 3.5l4-3.5m-4-5v8.5"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" class="icon-loading">
                                <g fill="currentColor">
                                <circle cx="12" cy="3.5" r="1.5">
                                <animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"/>
                                <animate attributeName="opacity" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle><circle cx="12" cy="3.5" r="1.5" transform="rotate(30 12 12)">
                                    <animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"/>
                                <animate attributeName="opacity" begin="0.2s" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle><circle cx="12" cy="3.5" r="1.5" transform="rotate(60 12 12)">
                                    <animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"/>
                                    <animate attributeName="opacity" begin="0.4s" dur="0.6s" repeatCount="indefinite" values="1;1;0"/></circle></g>
                            </svg>
                        </button>
                    </div>
                    <p class="v-resolution"><span>{{item.abr}}</span></p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    {% endif %}
    
</div>
{% endblock %}
